package com.tjdals.backend.exception;import org.springframework.http.HttpStatus;import org.springframework.http.ProblemDetail;import org.springframework.web.bind.MethodArgumentNotValidException;import org.springframework.web.bind.annotation.ExceptionHandler;import org.springframework.web.bind.annotation.RestControllerAdvice;import org.springframework.web.server.ResponseStatusException;import java.util.HashMap;import java.util.Map;@RestControllerAdvicepublic class GlobalExceptionHandler {    @ExceptionHandler(MethodArgumentNotValidException.class)    public ProblemDetail handleValidation(MethodArgumentNotValidException e){        ProblemDetail pd = ProblemDetail.forStatus((HttpStatus.BAD_REQUEST));        Map<String, String> errors = new HashMap<>();        e.getBindingResult().getFieldErrors()                .forEach(fe -> errors.put(fe.getField(), fe.getDefaultMessage()));        pd.setTitle("Validation failed");        pd.setProperty("errors", errors);        return pd;    }    @ExceptionHandler(ResponseStatusException.class)    public ProblemDetail handleStatus(ResponseStatusException e){        ProblemDetail pd = ProblemDetail.forStatus(e.getStatusCode());        pd.setTitle(("Request failed"));        pd.setDetail(e.getReason());        return pd;    }}